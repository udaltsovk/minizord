{
    "annotations": {
        "list": [
            {
                "$$hashKey": "object:257",
                "builtIn": 1,
                "datasource": {
                    "type": "datasource",
                    "uid": "grafana"
                },
                "enable": true,
                "hide": true,
                "iconColor": "rgba(0, 211, 255, 1)",
                "name": "Annotations & Alerts",
                "target": {
                    "limit": 100,
                    "matchAny": false,
                    "tags": [],
                    "type": "dashboard"
                },
                "type": "dashboard"
            }
        ]
    },
    "description": "HAProxy with Prometheus data",
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 1,
    "id": 3,
    "links": [],
    "panels": [
        {
            "collapsed": false,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 0
            },
            "id": 152,
            "panels": [],
            "title": "Basic General Info",
            "type": "row"
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "mimir"
            },
            "description": "",
            "fieldConfig": {
                "defaults": {
                    "color": {
                        "mode": "palette-classic"
                    },
                    "custom": {
                        "axisBorderShow": false,
                        "axisCenteredZero": false,
                        "axisColorMode": "text",
                        "axisLabel": "- back / + front",
                        "axisPlacement": "auto",
                        "barAlignment": 0,
                        "barWidthFactor": 0.6,
                        "drawStyle": "line",
                        "fillOpacity": 20,
                        "gradientMode": "none",
                        "hideFrom": {
                            "legend": false,
                            "tooltip": false,
                            "viz": false
                        },
                        "insertNulls": false,
                        "lineInterpolation": "linear",
                        "lineWidth": 1,
                        "pointSize": 5,
                        "scaleDistribution": {
                            "type": "linear"
                        },
                        "showPoints": "never",
                        "spanNulls": false,
                        "stacking": {
                            "group": "A",
                            "mode": "none"
                        },
                        "thresholdsStyle": {
                            "mode": "off"
                        }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "green"
                            },
                            {
                                "color": "red",
                                "value": 80
                            }
                        ]
                    },
                    "unit": "short"
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byRegexp",
                            "options": "/.*Back.*/"
                        },
                        "properties": [
                            {
                                "id": "custom.transform",
                                "value": "negative-Y"
                            }
                        ]
                    },
                    {
                        "matcher": {
                            "id": "byRegexp",
                            "options": "/.*1.*/"
                        },
                        "properties": [
                            {
                                "id": "color",
                                "value": {
                                    "fixedColor": "#6ED0E0",
                                    "mode": "fixed"
                                }
                            }
                        ]
                    },
                    {
                        "matcher": {
                            "id": "byRegexp",
                            "options": "/.*2.*/"
                        },
                        "properties": [
                            {
                                "id": "color",
                                "value": {
                                    "fixedColor": "#7EB26D",
                                    "mode": "fixed"
                                }
                            }
                        ]
                    },
                    {
                        "matcher": {
                            "id": "byRegexp",
                            "options": "/.*3.*/"
                        },
                        "properties": [
                            {
                                "id": "color",
                                "value": {
                                    "fixedColor": "#1F78C1",
                                    "mode": "fixed"
                                }
                            }
                        ]
                    },
                    {
                        "matcher": {
                            "id": "byRegexp",
                            "options": "/.*4.*/"
                        },
                        "properties": [
                            {
                                "id": "color",
                                "value": {
                                    "fixedColor": "#CCA300",
                                    "mode": "fixed"
                                }
                            }
                        ]
                    },
                    {
                        "matcher": {
                            "id": "byRegexp",
                            "options": "/.*5.*/"
                        },
                        "properties": [
                            {
                                "id": "color",
                                "value": {
                                    "fixedColor": "#890F02",
                                    "mode": "fixed"
                                }
                            }
                        ]
                    },
                    {
                        "matcher": {
                            "id": "byRegexp",
                            "options": "/.*other.*/"
                        },
                        "properties": [
                            {
                                "id": "color",
                                "value": {
                                    "fixedColor": "#806EB7",
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }
                ]
            },
            "gridPos": {
                "h": 10,
                "w": 24,
                "x": 0,
                "y": 1
            },
            "id": 83,
            "options": {
                "legend": {
                    "calcs": [
                        "mean",
                        "lastNotNull",
                        "max",
                        "min"
                    ],
                    "displayMode": "table",
                    "placement": "right",
                    "showLegend": true
                },
                "tooltip": {
                    "hideZeros": false,
                    "mode": "multi",
                    "sort": "desc"
                }
            },
            "pluginVersion": "12.0.0",
            "targets": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(rate(haproxy_frontend_http_responses_total{proxy=~\"$frontend\",code=~\"$code\",instance=\"proxy:8080\"}[$__rate_interval])) by (code)",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Front {{ code }}",
                    "metric": "",
                    "refId": "A",
                    "step": 240
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(rate(haproxy_backend_http_responses_total{proxy=~\"$backend\",code=~\"$code\",instance=\"proxy:8080\"}[$__rate_interval])) by (code)",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Back {{ code }}",
                    "metric": "",
                    "refId": "B",
                    "step": 240
                }
            ],
            "title": "All HTTP responses",
            "type": "timeseries"
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "mimir"
            },
            "description": "",
            "fieldConfig": {
                "defaults": {
                    "color": {
                        "mode": "palette-classic"
                    },
                    "custom": {
                        "axisBorderShow": false,
                        "axisCenteredZero": false,
                        "axisColorMode": "text",
                        "axisLabel": "- out / + in",
                        "axisPlacement": "auto",
                        "barAlignment": 0,
                        "barWidthFactor": 0.6,
                        "drawStyle": "line",
                        "fillOpacity": 20,
                        "gradientMode": "none",
                        "hideFrom": {
                            "legend": false,
                            "tooltip": false,
                            "viz": false
                        },
                        "insertNulls": false,
                        "lineInterpolation": "linear",
                        "lineWidth": 1,
                        "pointSize": 5,
                        "scaleDistribution": {
                            "type": "linear"
                        },
                        "showPoints": "never",
                        "spanNulls": false,
                        "stacking": {
                            "group": "A",
                            "mode": "none"
                        },
                        "thresholdsStyle": {
                            "mode": "off"
                        }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "green"
                            },
                            {
                                "color": "red",
                                "value": 80
                            }
                        ]
                    },
                    "unit": "bits"
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byRegexp",
                            "options": "/.*OUT.*/"
                        },
                        "properties": [
                            {
                                "id": "custom.transform",
                                "value": "negative-Y"
                            }
                        ]
                    }
                ]
            },
            "gridPos": {
                "h": 10,
                "w": 12,
                "x": 0,
                "y": 11
            },
            "id": 75,
            "options": {
                "legend": {
                    "calcs": [
                        "mean",
                        "lastNotNull",
                        "max",
                        "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                },
                "tooltip": {
                    "hideZeros": false,
                    "mode": "multi",
                    "sort": "none"
                }
            },
            "pluginVersion": "12.0.0",
            "targets": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(rate(haproxy_frontend_bytes_in_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])*8) by (instance)",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "IN Front",
                    "metric": "",
                    "refId": "A",
                    "step": 240
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(rate(haproxy_frontend_bytes_out_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])*8) by (instance)",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "OUT Front",
                    "refId": "B",
                    "step": 240
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(rate(haproxy_backend_bytes_in_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])*8) by (instance)",
                    "intervalFactor": 2,
                    "legendFormat": "IN Back",
                    "refId": "C",
                    "step": 240
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(rate(haproxy_backend_bytes_out_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])*8) by (instance)",
                    "intervalFactor": 2,
                    "legendFormat": "OUT Back",
                    "refId": "D",
                    "step": 240
                }
            ],
            "title": "Incoming / Outgoing bytes",
            "type": "timeseries"
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "mimir"
            },
            "description": "",
            "fieldConfig": {
                "defaults": {
                    "color": {
                        "mode": "palette-classic"
                    },
                    "custom": {
                        "axisBorderShow": false,
                        "axisCenteredZero": false,
                        "axisColorMode": "text",
                        "axisLabel": "- back / + front",
                        "axisPlacement": "auto",
                        "barAlignment": 0,
                        "barWidthFactor": 0.6,
                        "drawStyle": "line",
                        "fillOpacity": 20,
                        "gradientMode": "none",
                        "hideFrom": {
                            "legend": false,
                            "tooltip": false,
                            "viz": false
                        },
                        "insertNulls": false,
                        "lineInterpolation": "linear",
                        "lineWidth": 1,
                        "pointSize": 5,
                        "scaleDistribution": {
                            "type": "linear"
                        },
                        "showPoints": "never",
                        "spanNulls": false,
                        "stacking": {
                            "group": "A",
                            "mode": "none"
                        },
                        "thresholdsStyle": {
                            "mode": "off"
                        }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "green"
                            },
                            {
                                "color": "red",
                                "value": 80
                            }
                        ]
                    },
                    "unit": "short"
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byRegexp",
                            "options": "/.*Back.*/"
                        },
                        "properties": [
                            {
                                "id": "color",
                                "value": {
                                    "fixedColor": "#F2495C",
                                    "mode": "fixed"
                                }
                            },
                            {
                                "id": "custom.transform",
                                "value": "negative-Y"
                            }
                        ]
                    }
                ]
            },
            "gridPos": {
                "h": 10,
                "w": 12,
                "x": 12,
                "y": 11
            },
            "id": 79,
            "options": {
                "legend": {
                    "calcs": [
                        "mean",
                        "lastNotNull",
                        "max",
                        "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                },
                "tooltip": {
                    "hideZeros": false,
                    "mode": "single",
                    "sort": "none"
                }
            },
            "pluginVersion": "12.0.0",
            "targets": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(rate(haproxy_frontend_connections_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])) by (instance)",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Front",
                    "metric": "",
                    "refId": "A",
                    "step": 240
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(rate(haproxy_backend_connection_errors_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])) by (instance)",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Back errors",
                    "metric": "",
                    "refId": "C",
                    "step": 240
                }
            ],
            "title": "Number of connections",
            "type": "timeseries"
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "mimir"
            },
            "description": "",
            "fieldConfig": {
                "defaults": {
                    "color": {
                        "mode": "palette-classic"
                    },
                    "custom": {
                        "axisBorderShow": false,
                        "axisCenteredZero": false,
                        "axisColorMode": "text",
                        "axisLabel": "- back / + front",
                        "axisPlacement": "auto",
                        "barAlignment": 0,
                        "barWidthFactor": 0.6,
                        "drawStyle": "line",
                        "fillOpacity": 20,
                        "gradientMode": "none",
                        "hideFrom": {
                            "legend": false,
                            "tooltip": false,
                            "viz": false
                        },
                        "insertNulls": false,
                        "lineInterpolation": "linear",
                        "lineWidth": 1,
                        "pointSize": 5,
                        "scaleDistribution": {
                            "type": "linear"
                        },
                        "showPoints": "never",
                        "spanNulls": false,
                        "stacking": {
                            "group": "A",
                            "mode": "none"
                        },
                        "thresholdsStyle": {
                            "mode": "off"
                        }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "green"
                            },
                            {
                                "color": "red",
                                "value": 80
                            }
                        ]
                    },
                    "unit": "short"
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byRegexp",
                            "options": "/.*Back.*/"
                        },
                        "properties": [
                            {
                                "id": "custom.transform",
                                "value": "negative-Y"
                            }
                        ]
                    },
                    {
                        "matcher": {
                            "id": "byRegexp",
                            "options": "/.*errors.*/"
                        },
                        "properties": [
                            {
                                "id": "color",
                                "value": {
                                    "fixedColor": "#F2495C",
                                    "mode": "fixed"
                                }
                            }
                        ]
                    },
                    {
                        "matcher": {
                            "id": "byRegexp",
                            "options": "/.*warn.*/"
                        },
                        "properties": [
                            {
                                "id": "color",
                                "value": {
                                    "fixedColor": "#FF9830",
                                    "mode": "fixed"
                                }
                            }
                        ]
                    }
                ]
            },
            "gridPos": {
                "h": 10,
                "w": 12,
                "x": 0,
                "y": 21
            },
            "id": 81,
            "options": {
                "legend": {
                    "calcs": [
                        "mean",
                        "lastNotNull",
                        "max",
                        "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                },
                "tooltip": {
                    "hideZeros": false,
                    "mode": "multi",
                    "sort": "desc"
                }
            },
            "pluginVersion": "12.0.0",
            "targets": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(rate(haproxy_frontend_http_requests_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])) by (instance)",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Front requests",
                    "metric": "",
                    "refId": "A",
                    "step": 240
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(rate(haproxy_frontend_request_errors_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])) by (instance)",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Front requests errors",
                    "metric": "",
                    "refId": "C",
                    "step": 240
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(rate(haproxy_frontend_requests_denied_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])) by (instance)",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "Front request denied",
                    "refId": "F",
                    "step": 240
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(rate(haproxy_backend_redispatch_warnings_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])) by (instance)",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "Back redispatch warnings",
                    "refId": "D",
                    "step": 240
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(rate(haproxy_backend_retry_warnings_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])) by (instance)",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "Back retry warnings",
                    "refId": "E",
                    "step": 240
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(rate(haproxy_backend_response_errors_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])) by (instance)",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Back response errors",
                    "metric": "",
                    "refId": "I",
                    "step": 240
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(haproxy_backend_current_queue{proxy=~\"$backend\",instance=\"proxy:8080\"}) by (instance)",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "Back queued requests",
                    "refId": "G",
                    "step": 240
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(rate(haproxy_backend_http_requests_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])) by (instance)",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Back requests",
                    "metric": "",
                    "refId": "H",
                    "step": 240
                }
            ],
            "title": "Requests and Responses",
            "type": "timeseries"
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "mimir"
            },
            "description": "",
            "fieldConfig": {
                "defaults": {
                    "color": {
                        "mode": "palette-classic"
                    },
                    "custom": {
                        "axisBorderShow": false,
                        "axisCenteredZero": false,
                        "axisColorMode": "text",
                        "axisLabel": "- back / + front",
                        "axisPlacement": "auto",
                        "barAlignment": 0,
                        "barWidthFactor": 0.6,
                        "drawStyle": "line",
                        "fillOpacity": 20,
                        "gradientMode": "none",
                        "hideFrom": {
                            "legend": false,
                            "tooltip": false,
                            "viz": false
                        },
                        "insertNulls": false,
                        "lineInterpolation": "linear",
                        "lineWidth": 1,
                        "pointSize": 5,
                        "scaleDistribution": {
                            "type": "linear"
                        },
                        "showPoints": "never",
                        "spanNulls": false,
                        "stacking": {
                            "group": "A",
                            "mode": "none"
                        },
                        "thresholdsStyle": {
                            "mode": "off"
                        }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "green"
                            },
                            {
                                "color": "red",
                                "value": 80
                            }
                        ]
                    },
                    "unit": "short"
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byRegexp",
                            "options": "/.*Back.*/"
                        },
                        "properties": [
                            {
                                "id": "custom.transform",
                                "value": "negative-Y"
                            }
                        ]
                    }
                ]
            },
            "gridPos": {
                "h": 10,
                "w": 12,
                "x": 12,
                "y": 21
            },
            "id": 84,
            "options": {
                "legend": {
                    "calcs": [
                        "mean",
                        "lastNotNull",
                        "max",
                        "min"
                    ],
                    "displayMode": "table",
                    "placement": "bottom",
                    "showLegend": true
                },
                "tooltip": {
                    "hideZeros": false,
                    "mode": "multi",
                    "sort": "desc"
                }
            },
            "pluginVersion": "12.0.0",
            "targets": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(haproxy_frontend_current_sessions{proxy=~\"$frontend\",instance=\"proxy:8080\"}) by (instance)",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Front",
                    "metric": "",
                    "refId": "B",
                    "step": 240
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "sum(haproxy_backend_current_sessions{proxy=~\"$frontend\",instance=\"proxy:8080\"}) by (instance)",
                    "interval": "",
                    "intervalFactor": 1,
                    "legendFormat": "Back",
                    "metric": "",
                    "refId": "A",
                    "step": 240
                }
            ],
            "title": "Active sessions",
            "type": "timeseries"
        },
        {
            "collapsed": false,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 31
            },
            "id": 151,
            "panels": [],
            "title": "Basic General Status",
            "type": "row"
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "mimir"
            },
            "fieldConfig": {
                "defaults": {
                    "color": {
                        "mode": "palette-classic"
                    },
                    "custom": {
                        "axisBorderShow": false,
                        "axisCenteredZero": false,
                        "axisColorMode": "text",
                        "axisLabel": "- back / + front",
                        "axisPlacement": "auto",
                        "barAlignment": 0,
                        "barWidthFactor": 0.6,
                        "drawStyle": "line",
                        "fillOpacity": 50,
                        "gradientMode": "none",
                        "hideFrom": {
                            "legend": false,
                            "tooltip": false,
                            "viz": false
                        },
                        "insertNulls": false,
                        "lineInterpolation": "linear",
                        "lineWidth": 1,
                        "pointSize": 5,
                        "scaleDistribution": {
                            "type": "linear"
                        },
                        "showPoints": "never",
                        "spanNulls": false,
                        "stacking": {
                            "group": "A",
                            "mode": "none"
                        },
                        "thresholdsStyle": {
                            "mode": "off"
                        }
                    },
                    "links": [],
                    "mappings": [],
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "green"
                            },
                            {
                                "color": "red",
                                "value": 80
                            }
                        ]
                    },
                    "unit": "short"
                },
                "overrides": [
                    {
                        "matcher": {
                            "id": "byName",
                            "options": "Back Up"
                        },
                        "properties": [
                            {
                                "id": "custom.transform",
                                "value": "negative-Y"
                            }
                        ]
                    }
                ]
            },
            "gridPos": {
                "h": 4,
                "w": 22,
                "x": 0,
                "y": 32
            },
            "id": 85,
            "options": {
                "legend": {
                    "calcs": [
                        "mean",
                        "lastNotNull",
                        "max",
                        "min"
                    ],
                    "displayMode": "table",
                    "placement": "right",
                    "showLegend": true
                },
                "tooltip": {
                    "hideZeros": false,
                    "mode": "multi",
                    "sort": "none"
                }
            },
            "pluginVersion": "12.0.0",
            "targets": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "count(haproxy_frontend_status{instance=\"proxy:8080\"} == 1)",
                    "hide": false,
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "Front Up",
                    "refId": "A",
                    "step": 240
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "count(haproxy_backend_status{instance=\"proxy:8080\"} ==1)",
                    "interval": "",
                    "intervalFactor": 2,
                    "legendFormat": "Back Up",
                    "refId": "B",
                    "step": 240
                }
            ],
            "title": "All Status",
            "type": "timeseries"
        },
        {
            "datasource": {
                "type": "prometheus",
                "uid": "mimir"
            },
            "fieldConfig": {
                "defaults": {
                    "color": {
                        "mode": "thresholds"
                    },
                    "decimals": 0,
                    "mappings": [
                        {
                            "options": {
                                "match": "null",
                                "result": {
                                    "text": "N/A"
                                }
                            },
                            "type": "special"
                        }
                    ],
                    "thresholds": {
                        "mode": "absolute",
                        "steps": [
                            {
                                "color": "green"
                            },
                            {
                                "color": "red",
                                "value": 80
                            }
                        ]
                    },
                    "unit": "s"
                },
                "overrides": []
            },
            "gridPos": {
                "h": 4,
                "w": 2,
                "x": 22,
                "y": 32
            },
            "id": 149,
            "maxDataPoints": 100,
            "options": {
                "colorMode": "none",
                "graphMode": "none",
                "justifyMode": "auto",
                "orientation": "horizontal",
                "percentChangeColorMode": "standard",
                "reduceOptions": {
                    "calcs": [
                        "lastNotNull"
                    ],
                    "fields": "",
                    "values": false
                },
                "showPercentChange": false,
                "textMode": "auto",
                "wideLayout": true
            },
            "pluginVersion": "12.0.0",
            "targets": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "expr": "time() - haproxy_process_start_time_seconds{instance=\"proxy:8080\"}",
                    "intervalFactor": 2,
                    "refId": "A",
                    "step": 240
                }
            ],
            "title": "Started...",
            "type": "stat"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 36
            },
            "id": 182,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- out / + in",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "bits"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*OUT.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 15,
                        "w": 12,
                        "x": 0,
                        "y": 105
                    },
                    "id": 42,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_frontend_bytes_in_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])*8",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "IN {{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_frontend_bytes_out_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])*8",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "OUT {{ proxy }}",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Front - Incoming / Outgoing bytes",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- out / + in",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "bits"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*OUT.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 15,
                        "w": 12,
                        "x": 12,
                        "y": 105
                    },
                    "id": 1,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_bytes_in_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])*8",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "IN {{ proxy }}",
                            "metric": "haproxy_backend_",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_bytes_out_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])*8",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "OUT {{ proxy }}",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Back - Incoming / Outgoing bytes",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- denied / + successful",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Denied*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 15,
                        "w": 12,
                        "x": 0,
                        "y": 120
                    },
                    "id": 43,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_frontend_connections_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Successful {{ proxy }}",
                            "metric": "haproxy_backe",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_frontend_denied_connections_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Denied {{ proxy }}",
                            "metric": "haproxy_backe",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Front - Connections successful / denied",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- error / + attempt",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Error.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 15,
                        "w": 12,
                        "x": 12,
                        "y": 120
                    },
                    "id": 27,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_connection_attempts_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Attempts {{ proxy }}",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_connection_errors_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Error {{ proxy }}",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Back - Connections attempts / errors",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "connections",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 2,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 15,
                        "w": 12,
                        "x": 0,
                        "y": 135
                    },
                    "id": 114,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_frontend_connections_rate_max{proxy=~\"$frontend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Max {{ proxy }}",
                            "metric": "haproxy_backe",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Front - Maximum observed number of connections per second",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "reuses",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 15,
                        "w": 12,
                        "x": 12,
                        "y": 135
                    },
                    "id": 131,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_connection_reuses_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Reuses {{ proxy }}",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Back - Connections reuses",
                    "type": "timeseries"
                }
            ],
            "title": "Throughtput / Connections",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 37
            },
            "id": 154,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "requests",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 0,
                        "y": 106
                    },
                    "id": 28,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_current_queue{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Queued {{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Back - Queued requests not assigned to any server",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "requests",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 2,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 12,
                        "y": 106
                    },
                    "id": 32,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_max_queue{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Max {{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Back - Max queued requests not assigned to any server",
                    "type": "timeseries"
                }
            ],
            "title": "Queues",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 38
            },
            "id": 155,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- denied / + ok",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Denied.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 0,
                        "y": 107
                    },
                    "id": 134,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "editorMode": "code",
                            "expr": "rate(haproxy_backend_http_requests_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Total {{ proxy }}",
                            "metric": "",
                            "range": true,
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "editorMode": "code",
                            "expr": "rate(haproxy_backend_requests_denied_total{proxy=~\"$backend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Denied {{ proxy }}",
                            "range": true,
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Back - HTTP requests OK / Denied",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- error - denied / + ok",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Error.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            },
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Denied.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 12,
                        "y": 107
                    },
                    "id": 46,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_frontend_http_requests_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Total {{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_frontend_request_errors_total{proxy=~\"$frontend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Error {{ proxy }}",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_frontend_requests_denied_total{proxy=~\"$frontend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Denied {{ proxy }}",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Front - HTTP requests OK / Error / Denied",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "denied",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 0,
                        "y": 121
                    },
                    "id": 126,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_responses_denied_total{proxy=~\"$backend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Denied {{ proxy }}",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Back - HTTP responses denied",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "denied",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Denied.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 12,
                        "y": 121
                    },
                    "id": 115,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_frontend_responses_denied_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Denied {{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Front - HTTP responses denied",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- error / + redispatch + retry",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Error.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 0,
                        "y": 135
                    },
                    "id": 35,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_redispatch_warnings_total{proxy=~\"$backend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Redispatch {{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_retry_warnings_total{proxy=~\"$backend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Retry {{ proxy }}",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_response_errors_total{proxy=~\"$backend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Error {{ proxy }}",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Back - Error / Redispatch / Retry",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "requests",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 12,
                        "y": 135
                    },
                    "id": 138,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "editorMode": "code",
                            "expr": "haproxy_frontend_http_requests_rate_max{proxy=~\"$frontend\", instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Max {{ proxy }}",
                            "metric": "",
                            "range": true,
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Front - Maximum observed number of HTTP requests per second",
                    "type": "timeseries"
                }
            ],
            "title": "Requests / Responses",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 39
            },
            "id": 176,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 0,
                        "y": 108
                    },
                    "id": 132,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_connect_time_average_seconds{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "haproxy_backend_current_queue",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Back - Avg connection time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 12,
                        "y": 108
                    },
                    "id": 209,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_max_connect_time_seconds{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "haproxy_backend_current_queue",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Back - Max connection time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 0,
                        "y": 122
                    },
                    "id": 178,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_total_time_average_seconds{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "haproxy_backend_current_queue",
                            "refId": "D",
                            "step": 240
                        }
                    ],
                    "title": "Back - Avg. total time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 12,
                        "y": 122
                    },
                    "id": 210,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_max_total_time_seconds{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "haproxy_backend_current_queue",
                            "refId": "D",
                            "step": 240
                        }
                    ],
                    "title": "Back - Max total time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 0,
                        "y": 136
                    },
                    "id": 177,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_response_time_average_seconds{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "haproxy_backend_current_queue",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Back - Avg. response time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 12,
                        "y": 136
                    },
                    "id": 211,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_max_response_time_seconds{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "haproxy_backend_current_queue",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Back - Max response time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 0,
                        "y": 150
                    },
                    "id": 127,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_queue_time_average_seconds{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Back - Avg. queue time for last 1024 successful connections",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 12,
                        "y": 150
                    },
                    "id": 212,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_max_queue_time_seconds{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Back - Max queue time",
                    "type": "timeseries"
                }
            ],
            "title": "Times",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 40
            },
            "id": 156,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "responses",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 0,
                        "y": 109
                    },
                    "id": 47,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_frontend_http_responses_total{proxy=~\"$frontend\", code=~\"$code\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ code }} {{ proxy }} ",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Front - HTTP responses code",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "responses",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 12,
                        "y": 109
                    },
                    "id": 24,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_http_responses_total{proxy=~\"$backend\", code=~\"$code\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ code }} {{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Back - HTTP responses code",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 11,
                        "w": 24,
                        "x": 0,
                        "y": 122
                    },
                    "id": 64,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_http_responses_total{proxy=~\"$backend\",server=~\"$server\",code=~\"$code\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ code }} {{ proxy }} {{ server }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Server - HTTP responses code",
                    "type": "timeseries"
                }
            ],
            "title": "Responses by HTTP code",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 41
            },
            "id": 157,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- denied / + total",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Denied.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 0,
                        "y": 110
                    },
                    "id": 45,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_frontend_sessions_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Total {{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_frontend_denied_sessions_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Denied {{ proxy }}",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_frontend_current_sessions{proxy=~\"$frontend\",instance=\"proxy:8080\"}",
                            "hide": true,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current active {{ proxy }}",
                            "metric": "",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Front - Number of sessions",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "total",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 12,
                        "y": 110
                    },
                    "id": 30,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_sessions_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Total {{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_current_sessions{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "hide": true,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current active {{ proxy }}",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Back - Number of sessions",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "sessions",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 2,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Limit.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 0,
                        "y": 123
                    },
                    "id": 34,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_max_sessions{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Max {{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_limit_sessions{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Limit {{ proxy }}",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Back - Maximum observed number of active sessions and limit",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "sessions",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Limit.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 12,
                        "y": 123
                    },
                    "id": 51,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_frontend_max_sessions{proxy=~\"$frontend\",instance=\"proxy:8080\"}",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Max {{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_frontend_limit_sessions{proxy=~\"$frontend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Limit {{ proxy }}",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Front - Maximum observed number of active sessions and limit",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "sessions",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 0,
                        "y": 136
                    },
                    "id": 33,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_max_session_rate{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Max {{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Back - Maximum observed number of sessions per second",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "sessions",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Limit.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 12,
                        "y": 136
                    },
                    "id": 69,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_frontend_max_session_rate{proxy=~\"$frontend\",instance=\"proxy:8080\"}",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Max {{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_frontend_limit_session_rate{proxy=~\"$frontend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Limit {{ proxy }}",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Front - Maximum observed number of sessions per second and limit",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "sessions",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 0,
                        "y": 149
                    },
                    "id": 117,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_failed_header_rewriting_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Back - Failed header rewriting warnings",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "sessions",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 12,
                        "y": 149
                    },
                    "id": 119,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_frontend_failed_header_rewriting_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Front - Failed header rewriting warnings",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Error.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            },
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Denied.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 0,
                        "y": 162
                    },
                    "id": 124,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_last_session_seconds{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Back -  Last session assigned",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 12,
                        "y": 162
                    },
                    "id": 120,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_frontend_http_requests_rate_max{proxy=~\"$frontend\",instance=\"proxy:8080\"}",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Front - Maximum observed number of HTTP requests per second",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- server / + client",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*By server.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 0,
                        "y": 175
                    },
                    "id": 128,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_client_aborts_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "By client {{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_server_aborts_total{proxy=~\"$frontend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "By server {{ proxy }}",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Back -  Data transfers aborted",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*server.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 12,
                        "y": 175
                    },
                    "id": 146,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_client_aborts_total{proxy=~\"$frontend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "By client {{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_server_aborts_total{proxy=~\"$frontend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "By server {{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Server -  Data transfers aborted",
                    "type": "timeseries"
                }
            ],
            "title": "Sessions",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 42
            },
            "id": 158,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "transitions",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 0,
                        "y": 111
                    },
                    "id": 38,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "asc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_check_up_down_total{proxy=~\"$backend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Back - UP->DOWN transitions",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "weight",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 12,
                        "y": 111
                    },
                    "id": 39,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "asc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_weight{proxy=~\"$backend\", instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Back - Service weight",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "weight",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 12,
                        "y": 125
                    },
                    "id": 220,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "asc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_uweight{proxy=~\"$backend\", instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Back - Service user weight",
                    "type": "timeseries"
                }
            ],
            "title": "Health and Weight",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 43
            },
            "id": 159,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Hits.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 0,
                        "y": 112
                    },
                    "id": 121,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "asc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "editorMode": "code",
                            "expr": "rate(haproxy_frontend_http_cache_lookups_total{proxy=~\"$frontend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Lookups {{ proxy }} ",
                            "metric": "",
                            "range": true,
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "editorMode": "code",
                            "expr": "rate(haproxy_frontend_http_cache_hits_total{proxy=~\"$frontend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Hits {{ proxy }} ",
                            "metric": "",
                            "range": true,
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Front - Cache lookups / hits",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Hits.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 12,
                        "y": 112
                    },
                    "id": 139,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "asc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_http_cache_lookups_total{proxy=~\"$backend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Lookups {{ proxy }} ",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_http_cache_hits_total{proxy=~\"$backend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Hits {{ proxy }} ",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Back - Cache lookups / hits",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- emitted / + bypasses + fed",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "bytes"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*emitted.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            },
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*bypassed.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 0,
                        "y": 123
                    },
                    "id": 122,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "asc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "editorMode": "code",
                            "expr": "rate(haproxy_frontend_http_comp_bytes_in_total{proxy=~\"$frontend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Bytes fed {{ proxy }} ",
                            "metric": "",
                            "range": true,
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "editorMode": "code",
                            "expr": "rate(haproxy_frontend_http_comp_bytes_out_total{proxy=~\"$frontend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Bytes emitted {{ proxy }} ",
                            "metric": "",
                            "range": true,
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_frontend_http_comp_bytes_bypassed_total{proxy=~\"$backend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Bytes bypassed  {{ proxy }} ",
                            "metric": "",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Front - Compressor",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- emitted / + bypasses + fed",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "bytes"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*emitted.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            },
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*bypassed.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 12,
                        "y": 123
                    },
                    "id": 140,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "asc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_http_comp_bytes_in_total{proxy=~\"$backend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Bytes fed {{ proxy }} ",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_http_comp_bytes_out_total{proxy=~\"$backend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Bytes emitted {{ proxy }} ",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_http_comp_bytes_bypassed_total{proxy=~\"$backend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Bytes bypassed  {{ proxy }} ",
                            "metric": "",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Back - Compressor",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "responses",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 0,
                        "y": 134
                    },
                    "id": 123,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "asc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "editorMode": "code",
                            "expr": "rate(haproxy_frontend_http_comp_responses_total{proxy=~\"$frontend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} ",
                            "metric": "",
                            "range": true,
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Front - Responses compressed",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "responses",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 12,
                        "y": 134
                    },
                    "id": 141,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "asc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_http_comp_responses_total{proxy=~\"$backend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} ",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Back - Responses compressed",
                    "type": "timeseries"
                }
            ],
            "title": "Cache / Compressor",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 44
            },
            "id": 160,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 2,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 0,
                        "y": 113
                    },
                    "id": 113,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_frontend_status{proxy=~\"$frontend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Front - Status",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 2,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 12,
                        "y": 113
                    },
                    "id": 112,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_status{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Back - Status",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 2,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 0,
                        "y": 124
                    },
                    "id": 205,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_frontend_internal_errors_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Front - Internal errors",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 2,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 12,
                        "y": 124
                    },
                    "id": 171,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_backend_internal_errors_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Back - Internal errors",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- backup / + active",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 2,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 0,
                        "y": 135
                    },
                    "id": 173,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_active_servers{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Back - Active servers",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- backup / + active",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 2,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 11,
                        "w": 12,
                        "x": 12,
                        "y": 135
                    },
                    "id": 208,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_backend_backup_servers{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "legendFormat": "{{ proxy }}",
                            "refId": "B"
                        }
                    ],
                    "title": "Back - Backup servers",
                    "type": "timeseries"
                }
            ],
            "title": "Status",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 45
            },
            "id": 197,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- out / + in",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "bits"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*OUT.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 114
                    },
                    "id": 129,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_bytes_in_total{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])*8",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "IN {{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_bytes_out_total{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])*8",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "OUT {{ proxy }} / {{ server }}",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Server - Incoming / Outgoing bytes",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Estimated.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 24,
                        "x": 0,
                        "y": 122
                    },
                    "id": 219,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_used_connections_current{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "In use {{ proxy }} / {{ server }}{{ proxy }}",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_idle_connections_current{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Estimated {{ proxy }} / {{ server }}{{ proxy }}",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Server - Connections",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- error / + attempts",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Error.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 131
                    },
                    "id": 130,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_connection_attempts_total{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Attempts {{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_connection_errors_total{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Error {{ proxy }} / {{ server }}",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Server - Connections attempts / error",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "reuses",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 24,
                        "x": 0,
                        "y": 139
                    },
                    "id": 179,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_connection_reuses_total{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Reuses {{ proxy }} / {{ server }}",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Server - Number of connections reuses",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*limit.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            },
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*unsafe.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 24,
                        "x": 0,
                        "y": 148
                    },
                    "id": 186,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_idle_connections_current{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Available idle connections {{ proxy }} / {{ server }}",
                            "refId": "C",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_idle_connections_limit{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Limit available idle connections {{ proxy }} / {{ server }}{{ proxy }}",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_safe_idle_connections_current{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Number of safe idle connections {{ proxy }} / {{ server }}{{ proxy }}",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_unsafe_idle_connections_current{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Number of unsafe idle connections {{ proxy }} / {{ server }}{{ proxy }}",
                            "refId": "D",
                            "step": 240
                        }
                    ],
                    "title": "Server - Idle connections",
                    "type": "timeseries"
                }
            ],
            "title": "By server - Throughtput  / Connections",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 46
            },
            "id": 201,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "denied",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 24,
                        "x": 0,
                        "y": 115
                    },
                    "id": 187,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_responses_denied_total{proxy=~\"$backend\", instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Denied {{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Server - HTTP responses denied",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- error / + redispatch + retry",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Error.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 124
                    },
                    "id": 71,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_redispatch_warnings_total{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Redispatch {{ proxy }} / {{ server }}",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_retry_warnings_total{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Retry {{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_response_errors_total{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 2,
                            "legendFormat": "Error {{ proxy }} / {{ server }}",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Server - Error / Redispatch / Retry",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "requests",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 131
                    },
                    "id": 59,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_current_queue{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current {{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Server - Queued requests",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "requests",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Limit.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 138
                    },
                    "id": 180,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_max_queue{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Max {{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_queue_limit{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "legendFormat": "Limit {{ proxy }} / {{ server }}",
                            "refId": "A"
                        }
                    ],
                    "title": "Server - Max  queued requests and limit",
                    "type": "timeseries"
                }
            ],
            "title": "By server - Requests / Responses / Queues",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 47
            },
            "id": 193,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 116
                    },
                    "id": 135,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_connect_time_average_seconds{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} / {{ server }}",
                            "metric": "haproxy_backend_current_queue",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Server - Average connection time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 123
                    },
                    "id": 190,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_max_connect_time_seconds{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} / {{ server }}",
                            "metric": "haproxy_backend_current_queue",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Server - Max connection time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 130
                    },
                    "id": 183,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_response_time_average_seconds{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} / {{ server }}",
                            "metric": "haproxy_backend_current_queue",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Server - Average response time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 137
                    },
                    "id": 189,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_max_response_time_seconds{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} / {{ server }}",
                            "metric": "haproxy_backend_current_queue",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Server - Max response time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 144
                    },
                    "id": 184,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_total_time_average_seconds{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} / {{ server }}",
                            "metric": "haproxy_backend_current_queue",
                            "refId": "D",
                            "step": 240
                        }
                    ],
                    "title": "Server - Average total time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 24,
                        "x": 0,
                        "y": 152
                    },
                    "id": 188,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_max_total_time_seconds{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} / {{ server }}",
                            "metric": "haproxy_backend_current_queue",
                            "refId": "D",
                            "step": 240
                        }
                    ],
                    "title": "Server - Max total time",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 24,
                        "x": 0,
                        "y": 161
                    },
                    "id": 133,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_queue_time_average_seconds{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Server - Average queue time for last 1024 successful connections",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 0,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 170
                    },
                    "id": 191,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_max_queue_time_seconds{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Server - Max queue time",
                    "type": "timeseries"
                }
            ],
            "title": "By server - Times",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 48
            },
            "id": 214,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Limit.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 117
                    },
                    "id": 61,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_current_sessions{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "hide": true,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current {{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_sessions_total{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Total {{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_max_sessions{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "hide": true,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Max {{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "C",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_limit_sessions{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Limit {{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "D",
                            "step": 240
                        }
                    ],
                    "title": "Server - Number of active sessions",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Error.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            },
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Denied.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 9,
                        "w": 24,
                        "x": 0,
                        "y": 125
                    },
                    "id": 137,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_failed_header_rewriting_total{proxy=~\"$frontend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} /  {{ server }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Server - Failed header rewriting warnings",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Limit.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 134
                    },
                    "id": 60,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_max_session_rate{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Rate {{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_limit_session_rate{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Limit {{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Server - Number of sessions per second and limit",
                    "type": "timeseries"
                }
            ],
            "title": "By server - Sessions",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 49
            },
            "id": 203,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "weight",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "none"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 118
                    },
                    "id": 73,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_weight{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Server - Service weight",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "Server's user weight, or sum of active servers' user weights for a backend",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "weight",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "none"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 126
                    },
                    "id": 215,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_uweight{proxy=~\"$backend\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Server - Users weight",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "transitions",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "none"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 134
                    },
                    "id": 56,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_check_up_down_total{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Server - UP->DOWN transitions",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "failures",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "none"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 11,
                        "w": 24,
                        "x": 0,
                        "y": 142
                    },
                    "id": 185,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_check_failures_total{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Server - Checks failures",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 11,
                        "w": 24,
                        "x": 0,
                        "y": 153
                    },
                    "id": 204,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_check_duration_seconds{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Server - Checks duration",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "percent"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 10,
                        "w": 24,
                        "x": 0,
                        "y": 164
                    },
                    "id": 90,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_current_throttle{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Server -Throttle percentage",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 174
                    },
                    "id": 144,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "asc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_last_session_seconds{proxy=~\"$backend\", server=~\"$server\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Server - Number of seconds since last session assigned to server/backend",
                    "type": "timeseries"
                }
            ],
            "title": "By server - Health and Weight",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 50
            },
            "id": 207,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Error.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 8,
                        "w": 24,
                        "x": 0,
                        "y": 119
                    },
                    "id": 145,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "single",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_server_status{proxy=~\"$backend\",server=~\"$server\",instance=\"proxy:8080\"}",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }} / {{ server }}",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Server - Status",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 2,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 127
                    },
                    "id": 172,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_server_internal_errors_total{proxy=~\"$backend\",instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "{{ proxy }}",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Server - Internal errors",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "Number of failed DNS resolutions in current worker process since started",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 2,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 7,
                        "w": 24,
                        "x": 0,
                        "y": 134
                    },
                    "id": 216,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "right",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_failed_resolutions{instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Failed",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Server - Failed DNS resolutions",
                    "type": "timeseries"
                }
            ],
            "title": "By server - Status",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 51
            },
            "id": 166,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Configured.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 0,
                        "y": 120
                    },
                    "id": 101,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_current_session_rate{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current number of sessions per second over last elapsed second",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_limit_session_rate{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Configured maximum number of sessions per second",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_max_session_rate{instance=\"proxy:8080\"}",
                            "hide": true,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Maximum observed number of sessions per second",
                            "metric": "",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Process - Sessions over last second",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "normal"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 12,
                        "y": 120
                    },
                    "id": 96,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_current_connections{instance=\"proxy:8080\"}",
                            "hide": true,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Number of active sessions",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_connections_total{instance=\"proxy:8080\"}[$__rate_interval])",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Total number of created sessions",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_requests_total{instance=\"proxy:8080\"}[$__rate_interval])",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Total number of requests (TCP or HTTP)",
                            "metric": "",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Process - Total sessions / requests",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Configured.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 0,
                        "y": 134
                    },
                    "id": 100,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_current_connection_rate{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current number of connections per second over last elapsed second",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_limit_connection_rate{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Configured maximum number of connections per second.",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_max_connection_rate{instance=\"proxy:8080\"}",
                            "hide": true,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Maximum observed number of connections per second",
                            "metric": "",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Process - Connections over last second",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Initial.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 14,
                        "w": 12,
                        "x": 12,
                        "y": 134
                    },
                    "id": 95,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_max_connections{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Maximum number of concurrent connections",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_hard_max_connections{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Initial Maximum number of concurrent connections",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Process - Max connections",
                    "type": "timeseries"
                }
            ],
            "title": "Process Connections / Sessions / Requests",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 52
            },
            "id": 167,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Configured.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 10,
                        "w": 12,
                        "x": 0,
                        "y": 121
                    },
                    "id": 106,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_current_zlib_memory{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current memory used for zlib in bytes",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_max_zlib_memory{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Configured maximum amount of memory for zlib in bytes",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Process - Compression memory",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- before / + after",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "normal"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Configured.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    },
                                    {
                                        "id": "custom.stacking",
                                        "value": {
                                            "group": false,
                                            "mode": "normal"
                                        }
                                    }
                                ]
                            },
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*before.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 10,
                        "w": 12,
                        "x": 12,
                        "y": 121
                    },
                    "id": 105,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_http_comp_bytes_in_total{instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Number of bytes per second over last elapsed second, before http compression",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_http_comp_bytes_out_total{instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Number of bytes per second over last elapsed second, after http compression",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_limit_http_comp{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Configured maximum input compression rate in bytes",
                            "metric": "",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Process - Compression",
                    "type": "timeseries"
                }
            ],
            "title": "Process Compression",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 53
            },
            "id": 168,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- misses / + lookups",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*misses.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 12,
                        "w": 12,
                        "x": 0,
                        "y": 122
                    },
                    "id": 104,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_ssl_cache_lookups_total{instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Total number of SSL session cache lookups",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_ssl_cache_misses_total{instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Total number of SSL session cache misses",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Process - SSL cache",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "- backend / + frontend",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*backend.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.transform",
                                        "value": "negative-Y"
                                    }
                                ]
                            },
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Maximum.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 12,
                        "w": 12,
                        "x": 12,
                        "y": 122
                    },
                    "id": 103,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_current_frontend_ssl_key_rate{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current frontend SSL Key computation per second over last elapsed second",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_max_frontend_ssl_key_rate{instance=\"proxy:8080\"}",
                            "hide": true,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Maximum observed frontend SSL Key computation per second",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_current_backend_ssl_key_rate{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current backend SSL Key computation per second over last elapsed second",
                            "metric": "",
                            "refId": "D",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_max_backend_ssl_key_rate{instance=\"proxy:8080\"}",
                            "hide": true,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Maximum observed backend SSL Key computation per second",
                            "metric": "",
                            "refId": "E",
                            "step": 240
                        }
                    ],
                    "title": "Process - SSL key rate",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Maximum.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 12,
                        "w": 12,
                        "x": 0,
                        "y": 134
                    },
                    "id": 102,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_current_ssl_rate{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current number of SSL sessions per second over last elapsed second",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_limit_ssl_rate{instance=\"proxy:8080\"}",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Configured maximum number of SSL sessions per second",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_max_ssl_rate{instance=\"proxy:8080\"}",
                            "hide": true,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Maximum observed number of SSL sessions per second",
                            "metric": "",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Process - SSL rate",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Maximum*./"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 12,
                        "w": 12,
                        "x": 12,
                        "y": 134
                    },
                    "id": 98,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_current_ssl_connections{instance=\"proxy:8080\"}",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current number of opened SSL connections",
                            "metric": "",
                            "refId": "D",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_max_ssl_connections{instance=\"proxy:8080\"}",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Configured maximum number of concurrent SSL connections",
                            "metric": "",
                            "refId": "E",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_ssl_connections_total{instance=\"proxy:8080\"}[$__rate_interval])",
                            "hide": true,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Total number of opened SSL connections",
                            "metric": "",
                            "refId": "F",
                            "step": 240
                        }
                    ],
                    "title": "Process - SSL connections",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "ratio",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "percent"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 12,
                        "w": 12,
                        "x": 0,
                        "y": 146
                    },
                    "id": 150,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_frontend_ssl_reuse{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "SSL session reuse ratio (percent)",
                            "metric": "",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Process - SSL reuse ratio",
                    "type": "timeseries"
                }
            ],
            "title": "Process SSL",
            "type": "row"
        },
        {
            "collapsed": true,
            "gridPos": {
                "h": 1,
                "w": 24,
                "x": 0,
                "y": 54
            },
            "id": 169,
            "panels": [
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "bytes"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*limit+./"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 0,
                        "y": 123
                    },
                    "id": 87,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_max_memory_bytes{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Per-process memory limit (in bytes); 0=unset",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_pool_allocated_bytes{instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Total amount of memory allocated in pools (in bytes)",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_pool_used_bytes{instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Total amount of memory used in pools (in bytes)",
                            "metric": "",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Process - Memory",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 12,
                        "y": 123
                    },
                    "id": 107,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_current_tasks{instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current number of tasks",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_current_run_queue{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current number of tasks in the run-queue",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_stopping{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Non zero means stopping in progress",
                            "metric": "",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Process - Tasks",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 0,
                        "y": 136
                    },
                    "id": 89,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_max_fds{instance=\"proxy:8080\"}",
                            "hide": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Maximum number of open file descriptors; 0=unset",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_max_sockets{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Maximum number of open sockets",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Process - Maximum open files / sockets",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "normal"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Configured.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    },
                                    {
                                        "id": "custom.stacking",
                                        "value": {
                                            "group": false,
                                            "mode": "normal"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 12,
                        "y": 136
                    },
                    "id": 99,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_max_pipes{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Configured maximum number of pipes",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_pipes_used_total{instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Number of pipes in used",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_pipes_free_total{instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Number of pipes unused",
                            "metric": "",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Process - Pipes",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 0,
                        "y": 149
                    },
                    "id": 86,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_nbthread{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Threads",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_nbproc{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Processes",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Process - Configured threads / processes",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "normal"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 12,
                        "y": 149
                    },
                    "id": 88,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_pool_failures_total{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Total number of failed pool allocations",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Process - Pool allocations",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "percent"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 0,
                        "y": 162
                    },
                    "id": 108,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_idle_time_percent{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Idle to total ratio over last sample (percent)",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Process - Idle",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 12,
                        "y": 162
                    },
                    "id": 109,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_jobs{instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current number of active jobs (listeners, sessions, open devices)",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_unstoppable_jobs{instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current number of active jobs that can't be stopped during a soft stop",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_listeners{instance=\"proxy:8080\"}[$__rate_interval])",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current number of active listeners",
                            "metric": "",
                            "refId": "C",
                            "step": 240
                        }
                    ],
                    "title": "Process - Jobs",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 0,
                        "y": 175
                    },
                    "id": 110,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_active_peers{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current number of active peers",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_connected_peers{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Current number of connected peers",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Process - Peers",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "normal"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 12,
                        "y": 175
                    },
                    "id": 111,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_dropped_logs_total{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Total number of dropped logs",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_recv_logs_total{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Total number of log messages received by log-forwarding listeners",
                            "metric": "",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Process - Logs",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "description": "",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "left",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "bits"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 15,
                        "w": 12,
                        "x": 0,
                        "y": 188
                    },
                    "id": 217,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_bytes_out_total{instance=\"proxy:8080\"}[$__rate_interval])*8",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Emitted by current worker {{ proxy }}",
                            "metric": "haproxy_backend_",
                            "refId": "A",
                            "step": 240
                        },
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "rate(haproxy_process_spliced_bytes_out_total{instance=\"proxy:8080\"}[$__rate_interval])*8",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Emitted by current worker through a kernel pipe {{ proxy }}",
                            "metric": "haproxy_backend_",
                            "refId": "B",
                            "step": 240
                        }
                    ],
                    "title": "Process - Bytes out",
                    "type": "timeseries"
                },
                {
                    "datasource": {
                        "type": "prometheus",
                        "uid": "mimir"
                    },
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "counter",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 20,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "normal"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "links": [],
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green"
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": [
                            {
                                "matcher": {
                                    "id": "byRegexp",
                                    "options": "/.*Configured.*/"
                                },
                                "properties": [
                                    {
                                        "id": "custom.fillOpacity",
                                        "value": 0
                                    },
                                    {
                                        "id": "custom.stacking",
                                        "value": {
                                            "group": false,
                                            "mode": "normal"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    "gridPos": {
                        "h": 13,
                        "w": 12,
                        "x": 12,
                        "y": 188
                    },
                    "id": 218,
                    "options": {
                        "legend": {
                            "calcs": [
                                "mean",
                                "lastNotNull",
                                "max",
                                "min"
                            ],
                            "displayMode": "table",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "desc"
                        }
                    },
                    "pluginVersion": "9.2.0",
                    "targets": [
                        {
                            "datasource": {
                                "type": "prometheus",
                                "uid": "mimir"
                            },
                            "expr": "haproxy_process_uptime_seconds{instance=\"proxy:8080\"}",
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "How long ago this worker process was started",
                            "metric": "",
                            "refId": "A",
                            "step": 240
                        }
                    ],
                    "title": "Process - Uptime",
                    "type": "timeseries"
                }
            ],
            "title": "Process Misc",
            "type": "row"
        }
    ],
    "preload": false,
    "refresh": "1m",
    "schemaVersion": 41,
    "tags": [],
    "templating": {
        "list": [
            {
                "current": {
                    "text": [
                        "All"
                    ],
                    "value": [
                        "$__all"
                    ]
                },
                "datasource": {
                    "type": "prometheus",
                    "uid": "mimir"
                },
                "definition": "",
                "includeAll": true,
                "label": "Backend",
                "multi": true,
                "name": "backend",
                "options": [],
                "query": {
                    "query": "label_values(haproxy_backend_status{instance=\"proxy:8080\"}, proxy)",
                    "refId": "Prometheus-backend-Variable-Query"
                },
                "refresh": 1,
                "regex": "",
                "sort": 1,
                "type": "query"
            },
            {
                "current": {
                    "text": [
                        "All"
                    ],
                    "value": [
                        "$__all"
                    ]
                },
                "datasource": {
                    "type": "prometheus",
                    "uid": "mimir"
                },
                "definition": "",
                "includeAll": true,
                "label": "Frontend",
                "multi": true,
                "name": "frontend",
                "options": [],
                "query": {
                    "query": "label_values(haproxy_frontend_status{instance=\"proxy:8080\"}, proxy)",
                    "refId": "Prometheus-frontend-Variable-Query"
                },
                "refresh": 1,
                "regex": "",
                "sort": 1,
                "type": "query"
            },
            {
                "current": {
                    "text": [
                        "All"
                    ],
                    "value": [
                        "$__all"
                    ]
                },
                "datasource": {
                    "type": "prometheus",
                    "uid": "mimir"
                },
                "definition": "",
                "includeAll": true,
                "label": "Server",
                "multi": true,
                "name": "server",
                "options": [],
                "query": {
                    "query": "label_values(haproxy_server_status{instance=\"proxy:8080\"}, server)",
                    "refId": "Prometheus-server-Variable-Query"
                },
                "refresh": 1,
                "regex": "",
                "sort": 1,
                "type": "query"
            },
            {
                "current": {
                    "text": [
                        "All"
                    ],
                    "value": [
                        "$__all"
                    ]
                },
                "datasource": {
                    "type": "prometheus",
                    "uid": "mimir"
                },
                "definition": "",
                "includeAll": true,
                "label": "HTTP Code",
                "multi": true,
                "name": "code",
                "options": [],
                "query": {
                    "query": "label_values(haproxy_server_http_responses_total{instance=\"proxy:8080\"}, code)",
                    "refId": "Prometheus-code-Variable-Query"
                },
                "refresh": 1,
                "regex": "",
                "sort": 1,
                "type": "query"
            }
        ]
    },
    "time": {
        "from": "now-24h",
        "to": "now"
    },
    "timepicker": {},
    "timezone": "browser",
    "title": "HAProxy",
    "uid": "haproxy",
    "version": 1
}
